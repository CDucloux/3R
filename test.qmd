---
title: "Application des modèles SFA à l'étude des prix"
subtitle: "<script>const currentDT = new Date().toLocaleDateString();document.write(currentDT);</script>"
author: "`Aybuké BICAT` & `Corentin DUCLOUX`"
institute: <img src = https://corentinducloux.fr/Reveal.js/univ-tours.png width="70%">
format: 
  revealjs:
    slide-number: true
    mermaid-format: png
    chalkboard: true
    transition: slide
    background-transition: fade
    theme: blood
    toc: true
    toc-title: "Table des matières"
    incremental: true   
    footer: "--- Recherche, Réalisation, Restitution ---"
    logo: https://corentinducloux.fr/dossier_img/mecen_transparent.png
    controls : true
    preview-links: auto
    reference-location: document
    bibliography: references.bib
    include-in-header:
        - text: |
            <style>
            #title-slide .title {
            font-size: 1.75em;
            }
            </style>
fig-responsive: false
---

## Revue de la littérature

- [@lancaster1966] : *17222* citations
- [@rosen1974] :  *15791* citations
- [@aigner1977] : *15342* citations
- [@harrison1978] : *2493* citations
- [@kumbhakar2009]: *65* citations
- [@kumbhakar2015] : *899* citations
- [@arrondo2018]: *15* citations

## Nouvelle Approche de la théorie du consommateur {.smaller}

@lancaster1966 :

:::{.fragment .fade-in}
:::{.callout-tip}

## Hypothèses

1. Le bien en lui même ne procure pas d'utilité au consommateur $\Rightarrow$ il possède des **caractéristiques** qui procurent de l'utilité.
2. Un bien est un ensemble (*bundle*) de caractéristiques $-$ il possède le plus souvent de nombreuses caractéristiques.
3. Une combinaison de biens peut posséder des caractéristiques différentes comparé à des biens consommés séparément.

:::
:::

> Dans le modèle de Lancaster il existe une relation **linéaire** entre les prix des biens et leurs caractéristiques.

## Hedonic Pricing : aspect théorique (I)

Cadre apporté par @rosen1974. On étudie un bien différencié $z$ décrit par le vecteur de ses $n$ caractéristiques mesurables tel que : 

:::{.fragment .fade-in}
$$z = (z_1, z_2, \dots, z_n)$$ 
:::

:::{.fragment .fade-in}
> *La différenciation horizontale et verticale des produits implique qu'une vaste gamme de paniers est disponible.*
:::

## Hedonic Pricing : aspect théorique (II)

```{python}
import plotly.express as px
import random

num_points = 6
random.seed(42)  # Pour obtenir des données aléatoires reproductibles
x = [random.randint(0, 10) for _ in range(num_points)]
y = [random.randint(0, 10) for _ in range(num_points)]
products = ["bien 1", "bien 2", "bien 3", "bien 4", "bien 5", "bien 6"]

# Création du scatterplot avec Plotly
fig = px.scatter(
    x=x,
    y=y,
    color=products,
    title="$\\text{Plan }(z_1, z_2)\\text{ de differents biens avec 2 caracteristiques.}$",
)

fig.update_layout(
    xaxis=dict(title=r"$z_1$", title_font=dict(size=22)),
    yaxis=dict(title=r"$z_2$", title_font=dict(size=22)),
    paper_bgcolor="#222222",
    font_color="white",
)

fig.update_traces(marker=dict(size=15))
fig.show()
```

## Hedonic Pricing : aspect théorique (III)

- Le consommateur n'achète qu'**une seule** unité de bien qui est une combinaison d'attributs $z_1, z_2, \dots, z_n$.
- Un prix est donc défini en chaque point du plan et guide les choix de localisation des consommateurs et des producteurs concernant les ensembles de caractéristiques achetés et vendus.

:::{.fragment .fade-in}
$$\boxed{p(z) = p(z_1, z_2, \dots, z_n)}$$
:::


## Hedonic Pricing : aspect appliqué {.smaller}

@harrison1978 :

**Objectif** : Examiner comment les données du marché immobilier peuvent être utilisées pour évaluer la *willingness-to-pay* des consommateurs pour une meilleure qualité de l'air.

- Le modèle suppose que les ménages prennent en compte le niveau de pollution de l'air, la quantité et la qualité du logement et d'autres caractéristiques de quartier pour faire leur choix.
- La fonction de la valeur hédonique du logement $p(h)$ traduit les attributs du logement en prix, et suppose que les consommateurs perçoivent avec précision ces attributs et que le marché est en équilibre à court terme.

:::{.fragment .fade-in}
**Résultats** : Les dommages marginaux dus à la pollution augmentent avec le niveau de pollution de l'air et avec le niveau de revenu des ménages.
:::

## Fonction de production

:::{.callout-tip}

## Rappel sur les fonctions de production

- Un processus de production représente la transformation d'inputs en outputs.

- Dès lors, une fonction de production $f(.)$ donne la
quantité maximum d’output $y_i$ pouvant être produite à partir de vecteurs d'inputs.

:::

:::{.fragment .fade-in}
$$y_i = f(x_i; \beta)$$
:::

- Avec $x_i$ le vecteur d'inputs.
- Avec $\beta$ le vecteur de paramètres inconnus à estimer.

## SFA (I) {.smaller}

@aigner1977:

**Objectif** : Formulation et estimation de fonctions de frontière de production stochastique.

La SFA (`Stochastic Frontier Analysis`) est une méthode paramétrique : elle requiert une forme fonctionnelle précise et les termes d'erreur $\epsilon_i$ ont une distribution particulière (composée) :

- $v_i$ est une erreur aléatoire $\Rightarrow$ variation inexpliquée par les variables indépendantes du modèle, avec $v_i \sim \mathcal{N}(0, \sigma^2_v)$.
- $u_i$ est un composant unilatéral qui peut être choisi parmi plusieurs distributions et $u_i \geq 0$. 

La spécification de cette méthode permet d’estimer les scores de l’efficience technique de chaque firme (historiquement), ou produit, dans notre cas.

## SFA (II) {.smaller}

:::: {.columns}

::: {.column width="60%"}
*<u>$^*$Exemple</u>* : 

![](imgs/stochastic_image.jpeg){width=95%}

$*$ Droits d'auteur : [Lutz Bornmann](https://www.researchgate.net/profile/Lutz-Bornmann)
:::

::: {.column width="40%"}
A partir de cette représentation on peut clairement distinguer les effets de $v_i$ (`noise`) et ceux de $u_i$ (`inefficiency`).

***

- $y_i^*=$ output maximum
- $\Leftrightarrow \ln y_i^* = f(x_i;\beta) + v_i$
- $y_i =$ output observé
- $\Leftrightarrow \ln y_i = \ln y_i^* -u_i$
- $\Leftrightarrow \ln y_i = f(x_i;\beta) + v_i -u_i$

:::{.fragment} 
$$\boxed{\ln y_i = f(x_i;\beta) + \epsilon_i}$$
:::

:::

::::


## Problématique

Mettre la problématique avec les smartphones ! 


## Méthodologie {background-color="black" background-image="imgs/web_scraping.png" background-opacity="0.6"}

> Récupération des données via scraping (revendeurs français)

- Boulanger
- Darty
- Fnac
- Cdiscount
- Rue Du Commerce

Schéma :  avec données web non structurées puis semi-structurées (json) puis structuration avec polars et alimentation d'une base de données SQL in-memory (duckDB) -> Application streamlit.

## Statistiques descriptives

## References
